import { useState, useMemo, useEffect } from 'react';
import { Link, useNavigate, useLocation } from 'react-router-dom';
import { 
  UserPlus, 
  CreditCard, 
  LayoutDashboard, 
  FileText, 
  Link2, 
  ShieldCheck,
  Users,
  RefreshCw,
  Copy,
  Mail,
  Send,
  HelpCircle,
  Wallet,
  Target,
  Grid3X3,
  BookOpen,
  Search,
  X,
  ChevronLeft,
  Home,
  ChevronRight,
  Wand2,
  Blocks,
  Layers,
  Type,
  Image,
  CheckSquare,
  Lock,
  Sparkles,
  GraduationCap,
  FolderOpen
} from 'lucide-react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from '@/components/ui/accordion';
import { Separator } from '@/components/ui/separator';
import { Input } from '@/components/ui/input';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { LandingHeader } from '@/components/landing/LandingHeader';
import { useAuth } from '@/contexts/AuthContext';
import { usePermissions } from '@/hooks/usePermissions';

// User sections - visible to all
const userSections = [
  {
    id: 'auth',
    title: '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥',
    icon: UserPlus,
    content: `
**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**
1. –ù–∞–∂–º–∏—Ç–µ ¬´–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è¬ª –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
2. –í–≤–µ–¥–∏—Ç–µ e-mail –∏ –ø—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å
3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ e-mail –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è ‚Äî –≤—ã —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø

**–í—Ö–æ–¥**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ e-mail –∏ –ø–∞—Ä–æ–ª—å, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ï—Å–ª–∏ –∑–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å ‚Äî –Ω–∞–∂–º–∏—Ç–µ ¬´–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å¬ª

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —Å–≤–æ–π –ø–∞—Ä–æ–ª—å —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º
- –í—ã—Ö–æ–¥–∏—Ç–µ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–∞ —á—É–∂–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
    `
  },
  {
    id: 'dashboard',
    title: '–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç',
    icon: LayoutDashboard,
    content: `
**–ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å**
- –û–±–∑–æ—Ä –≤–∞—à–µ–π –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º

**–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π**
- –†–∞–∑–¥–µ–ª ¬´–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π¬ª —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—É—á–∞—é—â–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- –î–æ—Å—Ç—É–ø–Ω—ã —Å—Ç–∞—Ç—å–∏, –≤–∏–¥–µ–æ –∏ —Ç–µ—Å—Ç—ã
- –ö–æ–Ω—Ç–µ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–µ–≥–æ —Ç–∞—Ä–∏—Ñ–∞

**–ü—Ä–æ—Ñ–∏–ª—å**
- –í–∞—à–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–∏–≤—è–∑–∫–∞ Telegram –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–∞—à–∏—Ö –ø–æ–∫—É–ø–æ–∫
- –°—Ç–∞—Ç—É—Å—ã –æ–ø–ª–∞—Ç—ã –∏ —á–µ–∫–∏
    `
  },
  {
    id: 'subscriptions',
    title: '–ü–æ–¥–ø–∏—Å–∫–∏',
    icon: Wallet,
    content: `
**–£—Ä–æ–≤–Ω–∏ –ø–æ–¥–ø–∏—Å–∫–∏ (–ö–ª—É–± ¬´–ë—É–∫–≤–∞ –ó–∞–∫–æ–Ω–∞¬ª)**
- **Free** ‚Äî –±–∞–∑–æ–≤—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **–°—Ç–∞—Ä—Ç** ‚Äî –Ω–∞—á–∞–ª—å–Ω—ã–π —Ç–∞—Ä–∏—Ñ –∫–ª—É–±–∞
- **–ü—Ä–∞–∫—Ç–∏–∫** ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **–≠–∫—Å–ø–µ—Ä—Ç** ‚Äî –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º

**–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è**
- –ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ 1 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –º–µ—Å—è—Ü (–Ω–∞–ø—Ä–∏–º–µ—Ä, 27.01 ‚Üí 27.02)
- –ó–∞ 3 –¥–Ω—è –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ Telegram
- –ü—Ä–æ–¥–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –º–æ–∂–Ω–æ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- –î–æ—Å—Ç—É–ø —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–æ –∫–æ–Ω—Ü–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–Ω—è –ø–æ–¥–ø–∏—Å–∫–∏
    `
  },
  {
    id: 'payments',
    title: '–ü–ª–∞—Ç–µ–∂–∏',
    icon: CreditCard,
    content: `
**–°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã**
- **–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞** ‚Äî Visa, Mastercard, –ë–µ–ª–∫–∞—Ä—Ç
- **–ï–†–ò–ü** ‚Äî —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–±–∞–Ω–∫ –∏–ª–∏ –∏–Ω—Ñ–æ–∫–∏–æ—Å–∫

**–ü—Ä–æ—Ü–µ—Å—Å –æ–ø–ª–∞—Ç—ã**
1. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞—Ä–∏—Ñ
2. –ù–∞–∂–º–∏—Ç–µ ¬´–û–ø–ª–∞—Ç–∏—Ç—å¬ª
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –ø–ª–∞—Ç—ë–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
4. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –ø–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ü—Ä–æ–±–ª–µ–º—ã —Å –æ–ø–ª–∞—Ç–æ–π**
- –ï—Å–ª–∏ –ø–ª–∞—Ç—ë–∂ –Ω–µ –ø—Ä–æ—à—ë–ª ‚Äî –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–±
- –°–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π, –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è
    `
  },
  {
    id: 'documents',
    title: '–î–æ–∫—É–º–µ–Ω—Ç—ã',
    icon: FileText,
    content: `
**–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç–≤–µ—Ç–æ–≤ –ú–ù–°**
- –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –æ—Ç –Ω–∞–ª–æ–≥–æ–≤–æ–π
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç
- –°–∫–∞—á–∞–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –≤ Word

**–ò—Å—Ç–æ—Ä–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
- –í—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –í—ã –º–æ–∂–µ—Ç–µ —Å–∫–∞—á–∞—Ç—å –∏—Ö –ø–æ–≤—Ç–æ—Ä–Ω–æ
    `
  },
  {
    id: 'telegram',
    title: 'Telegram-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è',
    icon: Send,
    content: `
**–ü—Ä–∏–≤—è–∑–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞**
1. –ù–∞–∂–º–∏—Ç–µ ¬´–ü—Ä–∏–≤—è–∑–∞—Ç—å Telegram¬ª –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –±–æ—Ç—É –∏ –Ω–∞–∂–º–∏—Ç–µ Start
3. –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø—Ä–∏–≤—è–∑–∫–∏

**–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ–± –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏
- –í–∞–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**Telegram-–∫–ª—É–±—ã**
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —á–∞—Ç—ã –¥–ª—è –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- –î–æ—Å—Ç—É–ø –≤—ã–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ
- –ü—Ä–∏ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –¥–æ—Å—Ç—É–ø –æ—Ç–∑—ã–≤–∞–µ—Ç—Å—è
    `
  },
  {
    id: 'tools',
    title: '–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã',
    icon: Target,
    content: `
**–ö–æ–ª–µ—Å–æ –±–∞–ª–∞–Ω—Å–∞**
- –û—Ü–µ–Ω–∏—Ç–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç—å 8 —Å—Ñ–µ—Ä–∞–º–∏ –∂–∏–∑–Ω–∏
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∫–∞–∂–µ—Ç –∑–æ–Ω—ã –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è
- –°—Ç–∞–≤—å—Ç–µ —Ü–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏ –ø–æ –∫–∞–∂–¥–æ–π —Å—Ñ–µ—Ä–µ

**–ú–∞—Ç—Ä–∏—Ü–∞ –≠–π–∑–µ–Ω—Ö–∞—É—ç—Ä–∞**
- –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ –∑–∞–¥–∞—á–∏ –ø–æ –≤–∞–∂–Ω–æ—Å—Ç–∏ –∏ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏
- 4 –∫–≤–∞–¥—Ä–∞–Ω—Ç–∞: –¥–µ–ª–∞—Ç—å, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å, –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∑–∞–¥–∞—á–∞–º–∏ –∏–∑ –ö–æ–ª–µ—Å–∞ –±–∞–ª–∞–Ω—Å–∞
    `
  }
];

// Admin sections - visible only to admins/employees with permissions
const adminSections = [
  {
    id: 'admin',
    title: '–û–±—â–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è',
    icon: ShieldCheck,
    requiredPermission: null, // Any admin can see this
    content: `
**–î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏**
- –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –í—Ö–æ–¥ —á–µ—Ä–µ–∑ /admin

**–†–∞–∑–¥–µ–ª—ã –∞–¥–º–∏–Ω–∫–∏**
- –ö–ª–∏–µ–Ω—Ç—ã ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ó–∞–∫–∞–∑—ã ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏
- –ü—Ä–æ–¥—É–∫—Ç—ã ‚Äî —Ç–∞—Ä–∏—Ñ—ã –∏ –ø–æ–¥–ø–∏—Å–∫–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Äî –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã
- –†–æ–ª–∏ ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
    `
  },
  {
    id: 'admin-impersonate',
    title: '–í—Ö–æ–¥ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
    icon: Users,
    requiredPermission: 'users.impersonate',
    content: `
**–ó–∞—á–µ–º –Ω—É–∂–Ω–æ**
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**
1. –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ö–ª–∏–µ–Ω—Ç—ã¬ª
2. –ù–∞–∂–º–∏—Ç–µ ‚ãÆ ‚Üí ¬´–í–æ–π—Ç–∏ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å¬ª
3. –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É –≥–ª–∞–∑–∞–º–∏ –∫–ª–∏–µ–Ω—Ç–∞
4. –î–ª—è –≤—ã—Ö–æ–¥–∞ –Ω–∞–∂–º–∏—Ç–µ ¬´–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∞–¥–º–∏–Ω–∫–µ¬ª

**–í–∞–∂–Ω–æ**: –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
    `
  },
  {
    id: 'orders',
    title: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏',
    icon: CreditCard,
    requiredPermission: 'orders.view',
    content: `
**–°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤**
- **pending** ‚Äî –æ–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã
- **paid** ‚Äî –æ–ø–ª–∞—á–µ–Ω —É—Å–ø–µ—à–Ω–æ
- **failed** ‚Äî –æ—à–∏–±–∫–∞ –æ–ø–ª–∞—Ç—ã
- **refunded** ‚Äî –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤

**–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**
- –ü–æ —Å—Ç–∞—Ç—É—Å—É, –¥–∞—Ç–µ, —Å–ø–æ—Å–æ–±—É –æ–ø–ª–∞—Ç—ã
- –ü–æ–∏—Å–∫ –ø–æ e-mail –∫–ª–∏–µ–Ω—Ç–∞

**–î—É–±–ª–∏–∫–∞—Ç—ã**
- –°–∏—Å—Ç–µ–º–∞ –æ—Ç–º–µ—á–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –æ–ø–ª–∞—Ç—ã
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
    `
  },
  {
    id: 'duplicates',
    title: '–î—É–±–ª–∏–∫–∞—Ç—ã –∫–ª–∏–µ–Ω—Ç–æ–≤',
    icon: Copy,
    requiredPermission: 'users.view',
    content: `
**–ö–∞–∫ –ø–æ—è–≤–ª—è—é—Ç—Å—è**
- –ö–ª–∏–µ–Ω—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Ä–∞–∑–Ω—ã—Ö e-mail
- –ù–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–¥–∏–Ω —Ç–µ–ª–µ—Ñ–æ–Ω

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª ¬´–î—É–±–ª–∏–∫–∞—Ç—ã¬ª
2. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–µ–π—Å ‚Äî –≥—Ä—É–ø–ø—É –ø–æ—Ö–æ–∂–∏—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π
3. –í—ã–±–µ—Ä–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ñ–∏–ª—å
4. –ù–∞–∂–º–∏—Ç–µ ¬´–û–±—ä–µ–¥–∏–Ω–∏—Ç—å¬ª

**–†–µ–∑—É–ª—å—Ç–∞—Ç**
- –í—Å–µ –∑–∞–∫–∞–∑—ã –∏ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ñ–∏–ª—å
- –î—É–±–ª–∏–∫–∞—Ç—ã –∞—Ä—Ö–∏–≤–∏—Ä—É—é—Ç—Å—è
    `
  },
  {
    id: 'integrations',
    title: '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏',
    icon: Link2,
    requiredPermission: 'integrations.view',
    content: `
**–î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**
- **amoCRM** ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- **GetCourse** ‚Äî –≤–µ–±—Ö—É–∫–∏ –∑–∞–∫–∞–∑–æ–≤
- **bePaid** ‚Äî –ø—Ä–∏—ë–º –ø–ª–∞—Ç–µ–∂–µ–π
- **Email** ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å–µ–º
- **Telegram** ‚Äî –±–æ—Ç—ã –∏ –∫–ª—É–±—ã

**–°—Ç–∞—Ç—É—Å—ã**
- ‚úì connected ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úó disconnected ‚Äî –æ—Ç–∫–ª—é—á–µ–Ω–∞
- ‚ö† error ‚Äî —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è
    `
  },
  {
    id: 'integrations-sync',
    title: '–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö',
    icon: RefreshCw,
    requiredPermission: 'integrations.view',
    content: `
**–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
- **Import** ‚Äî –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–∑ –≤–Ω–µ—à–Ω–µ–π —Å–∏—Å—Ç–µ–º—ã
- **Export** ‚Äî –¥–∞–Ω–Ω—ã–µ —É—Ö–æ–¥—è—Ç –≤–æ –≤–Ω–µ—à–Ω—é—é —Å–∏—Å—Ç–µ–º—É
- **Bidirectional** ‚Äî –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –æ–±–º–µ–Ω

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏**
- –§–∏–ª—å—Ç—Ä—ã ‚Äî –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ ‚Äî —á—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è—Ö
- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–ª–∏ —Ä—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
    `
  },
  {
    id: 'integrations-mapping',
    title: '–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª–µ–π',
    icon: Grid3X3,
    requiredPermission: 'integrations.view',
    content: `
**–ó–∞—á–µ–º –Ω—É–∂–Ω–æ**
- –°–≤—è–∑—ã–≤–∞–µ—Ç –ø–æ–ª—è –≤ CRM —Å –ø–æ–ª—è–º–∏ –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ
- –ù–∞–ø—Ä–∏–º–µ—Ä: ¬´–¢–µ–ª–µ—Ñ–æ–Ω¬ª –≤ amoCRM ‚Üí ¬´phone¬ª –≤ –ø—Ä–æ—Ñ–∏–ª–µ

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ ¬´–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏¬ª
3. –£–∫–∞–∂–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø–æ–ª–µ–π

**–ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è**
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–µ–π
- –û–±—ã—á–Ω–æ —ç—Ç–æ e-mail –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω
    `
  },
  {
    id: 'telegram-bots',
    title: 'Telegram-–±–æ—Ç—ã',
    icon: Send,
    requiredPermission: 'telegram.manage',
    content: `
**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞**
1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —É @BotFather
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω
3. –î–æ–±–∞–≤—å—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª ¬´Telegram ‚Üí –ë–æ—Ç—ã¬ª

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook**
- –ù–∞–∂–º–∏—Ç–µ ¬´–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhook¬ª
- –ë–æ—Ç –Ω–∞—á–Ω—ë—Ç –ø–æ–ª—É—á–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏**
- –ù–∞–∂–º–∏—Ç–µ ¬´–ü—Ä–æ–≤–µ—Ä–∏—Ç—å¬ª –¥–ª—è —Ç–µ—Å—Ç–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
    `
  },
  {
    id: 'telegram-clubs',
    title: 'Telegram-–∫–ª—É–±—ã',
    icon: Users,
    requiredPermission: 'telegram.manage',
    content: `
**–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª—É–±–∞**
1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ —á–∞—Ç/–∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
2. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª—É–± –≤ –∞–¥–º–∏–Ω–∫–µ
3. –£–∫–∞–∂–∏—Ç–µ ID —á–∞—Ç–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–†–µ–∂–∏–º—ã –¥–æ—Å—Ç—É–ø–∞**
- **AUTO** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—ã–¥–∞—á–∞ –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ
- **MANUAL** ‚Äî —Ç–æ–ª—å–∫–æ —Ä—É—á–Ω–∞—è –≤—ã–¥–∞—á–∞

**–†–µ–∂–∏–º—ã –æ—Ç–∑—ã–≤–∞**
- **KICK** ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ —á–∞—Ç–∞
- **BAN** ‚Äî –±–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    `
  },
  {
    id: 'telegram-notifications',
    title: '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è',
    icon: Mail,
    requiredPermission: 'telegram.manage',
    content: `
**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ**
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞ 3 –¥–Ω—è –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
- –û—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 10:00

**–†—É—á–Ω—ã–µ**
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–∑ –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞
- –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –≤—Å–µ–º —Å –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–æ–π

**–¢–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π**
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ø–æ–¥–ø–∏—Å–∫–µ
- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç
    `
  },
  {
    id: 'roles',
    title: '–†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞',
    icon: ShieldCheck,
    requiredPermission: 'roles.manage',
    content: `
**–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–æ–ª–∏**
- **user** ‚Äî –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- **admin** ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- **superadmin** ‚Äî –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø

**–ü—Ä–∞–≤–∞ (permissions)**
- users.view ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–ª–∏–µ–Ω—Ç–æ–≤
- users.update ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- orders.view ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–æ–≤
- entitlements.manage ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π**
- –ß–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª ¬´–†–æ–ª–∏¬ª –≤ –∞–¥–º–∏–Ω–∫–µ
- –ò–ª–∏ –ø—Ä–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    `
  },
  {
    id: 'amocrm',
    title: 'amoCRM',
    icon: Link2,
    requiredPermission: 'integrations.manage',
    content: `
**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**
1. –£–∫–∞–∂–∏—Ç–µ –ø–æ–¥–¥–æ–º–µ–Ω (—á–∞—Å—Ç—å –¥–æ .amocrm.ru)
2. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ OAuth
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–æ—Ä–æ–Ω–∫—É –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

**–ß—Ç–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è**
- –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Å–¥–µ–ª–∫–∏
- –°—Ç–∞—Ç—É—Å—ã –∏ –ø–æ–ª—è

**Webhook**
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –í—Å—Ç–∞–≤—å—Ç–µ –≤ amoCRM ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí API ‚Üí Webhooks
    `
  },
  {
    id: 'getcourse',
    title: 'GetCourse',
    icon: Link2,
    requiredPermission: 'integrations.manage',
    content: `
**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**
1. –£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ GetCourse
2. –í–≤–µ–¥–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á API

**Webhook –¥–ª—è –∑–∞–∫–∞–∑–æ–≤**
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –î–æ–±–∞–≤—å—Ç–µ –≤ GetCourse –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞

**–ß—Ç–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç**
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–∞—Ö –∏ –æ–ø–ª–∞—Ç–∞—Ö
- –î–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–æ–≤
    `
  },
  {
    id: 'bepaid',
    title: 'bePaid',
    icon: Wallet,
    requiredPermission: 'integrations.manage',
    content: `
**–ù–∞—Å—Ç—Ä–æ–π–∫–∞**
- ID –º–∞–≥–∞–∑–∏–Ω–∞ –∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á ‚Äî –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö bePaid
- URL –¥–ª—è webhook ‚Äî —É–∫–∞–∂–∏—Ç–µ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ bePaid

**–°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã**
- –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã
- –ï–†–ò–ü (QR-–∫–æ–¥ –∏ –Ω–æ–º–µ—Ä –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞)

**–°—Ç–∞—Ç—É—Å—ã**
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ webhook
    `
  },
  {
    id: 'email',
    title: 'Email-—Ä–∞—Å—Å—ã–ª–∫–∏',
    icon: Mail,
    requiredPermission: 'email.manage',
    content: `
**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP**
- –£–∫–∞–∂–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä, –ø–æ—Ä—Ç, –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

**–®–∞–±–ª–æ–Ω—ã –ø–∏—Å–µ–º**
- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ HTML-—à–∞–±–ª–æ–Ω—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
- {{name}}, {{email}}, {{amount}} ‚Äî –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–û—Ç–ø—Ä–∞–≤–∫–∞**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ —Ç—Ä–∏–≥–≥–µ—Ä–∞–º
- –†—É—á–Ω–∞—è –∏–∑ –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞
    `
  },
  {
    id: 'closing-documents',
    title: '–ó–∞–∫—Ä—ã–≤–∞—é—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã',
    icon: FileText,
    requiredPermission: 'roles.manage',
    content: `
**–°–∏—Å—Ç–µ–º–∞ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—á—ë—Ç-–∞–∫—Ç–æ–≤ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã.

**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ (–ê–¥–º–∏–Ω–∫–∞ ‚Üí –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏)**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏ –∫–æ–º–ø–∞–Ω–∏–π/–ò–ü, –æ—Ç –∏–º–µ–Ω–∏ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –¥–æ–∫—É–º–µ–Ω—Ç—ã
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

**–†–µ–∫–≤–∏–∑–∏—Ç—ã –∫–ª–∏–µ–Ω—Ç–æ–≤ (–õ–ö ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –†–µ–∫–≤–∏–∑–∏—Ç—ã)**
–ö–ª–∏–µ–Ω—Ç—ã –∑–∞–ø–æ–ª–Ω—è—é—Ç —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–∫—Ä—ã–≤–∞—é—â–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:
- **–§–∏–∑–ª–∏—Ü–æ** ‚Äî –§–ò–û, –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã
- **–ò–ü** ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ, –£–ù–ü, –∞–¥—Ä–µ—Å, —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- **–Æ—Ä–ª–∏—Ü–æ** ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ, –û–ü–§, –£–ù–ü, –¥–æ–ª–∂–Ω–æ—Å—Ç—å –∏ –§–ò–û —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
1. –ö–ª–∏–µ–Ω—Ç –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –∑–∞–∫–∞–∑
2. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ª–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã
3. –ï—Å–ª–∏ –¥–∞ ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å—á—ë—Ç-–∞–∫—Ç, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ e-mail
4. –î–æ–∫—É–º–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ú–æ–∏ –ø–æ–∫—É–ø–∫–∏¬ª

**–¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
- **–°—á—ë—Ç** ‚Äî –¥–ª—è –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—ã
- **–ê–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç** ‚Äî –ø–æ—Å–ª–µ –æ–∫–∞–∑–∞–Ω–∏—è —É—Å–ª—É–≥–∏
- **–°—á—ë—Ç-–∞–∫—Ç** ‚Äî –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç

**–†—É—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**
–í —Ä–∞–∑–¥–µ–ª–µ ¬´–ú–æ–∏ –ø–æ–∫—É–ø–∫–∏¬ª –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç:
- –°–∫–∞—á–∞—Ç—å —Å—á—ë—Ç (–¥–æ –æ–ø–ª–∞—Ç—ã)
- –°–∫–∞—á–∞—Ç—å –∞–∫—Ç (–ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã)
- –ü–æ–ª—É—á–∏—Ç—å —á–µ–∫ bePaid
    `
  },
  // =========== TRAININGS SECTION ===========
  {
    id: 'trainings',
    title: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏–Ω–≥–∞–º–∏',
    icon: GraduationCap,
    requiredPermission: 'products.manage',
    content: `
**–û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
–°–∏—Å—Ç–µ–º–∞ —Ç—Ä–µ–Ω–∏–Ω–≥–æ–≤ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:
- **–ú–æ–¥—É–ª–∏** ‚Äî –ø–∞–ø–∫–∏ –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —É—Ä–æ–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä ¬´–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π¬ª)
- **–£—Ä–æ–∫–∏** ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Å—Ç–∞—Ç—å–∏, –≤–∏–¥–µ–æ, —Ç–µ—Å—Ç—ã)
- **–ë–ª–æ–∫–∏** ‚Äî —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ —É—Ä–æ–∫–∞ (—Ç–µ–∫—Å—Ç, –≤–∏–¥–µ–æ, —Ç–µ—Å—Ç—ã –∏ –¥—Ä.)

**–ù–∞–≤–∏–≥–∞—Ü–∏—è**
- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí –¢—Ä–µ–Ω–∏–Ω–≥–∏ ‚Üí –°–ø–∏—Å–æ–∫ –º–æ–¥—É–ª–µ–π
- –í–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è ‚Üí –°–ø–∏—Å–æ–∫ —É—Ä–æ–∫–æ–≤
- –í–Ω—É—Ç—Ä–∏ —É—Ä–æ–∫–∞ ‚Üí –†–µ–¥–∞–∫—Ç–æ—Ä –±–ª–æ–∫–æ–≤

**–î–≤–∞ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**
1. **–ú–æ–¥—É–ª—å + —É—Ä–æ–∫–∏** ‚Äî –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫—É—Ä—Å–∞
2. **Standalone-—É—Ä–æ–∫–∏** ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –±–µ–∑ –≤–∏–¥–∏–º–æ–≥–æ –º–æ–¥—É–ª—è (–¥–ª—è –≤—ã–ø—É—Å–∫–æ–≤, –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã)

**–†–∞–∑–¥–µ–ª—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞**
- **–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π** ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ
- **–ü—Ä–æ–¥—É–∫—Ç—ã** ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã –∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- **–û–±—É—á–µ–Ω–∏–µ** ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–±—É—á–∞—é—â–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
    `
  },
  {
    id: 'trainings-wizard',
    title: '–ú–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞',
    icon: Wand2,
    requiredPermission: 'products.manage',
    content: `
**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**
–ù–∞–∂–º–∏—Ç–µ ¬´+ –ú–∞—Å—Ç–µ—Ä¬ª –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç—Ä–µ–Ω–∏–Ω–≥–æ–≤ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ 5-—à–∞–≥–æ–≤–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞.

**–®–∞–≥ 1: –í—ã–±–æ—Ä —Ä–∞–∑–¥–µ–ª–∞**
–ì–¥–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
- –ü—Ä–æ–¥—É–∫—Ç—ã
- –û–±—É—á–µ–Ω–∏–µ

**–®–∞–≥ 2: –¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞**
- **–ú–æ–¥—É–ª—å** ‚Äî —Å–æ–∑–¥–∞—ë—Ç –ø–∞–ø–∫—É –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—Ä–æ–∫–æ–≤
- **–£—Ä–æ–∫** ‚Äî —Å–æ–∑–¥–∞—ë—Ç standalone-—É—Ä–æ–∫ (–∫–∞—Ä—Ç–æ—á–∫–∞ —Å—Ä–∞–∑—É –≤ —Ä–∞–∑–¥–µ–ª–µ)

**–®–∞–≥ 3: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**
- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ URL-–∞–¥—Ä–µ—Å (slug) –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –û–ø–∏—Å–∞–Ω–∏–µ –∏ –æ–±–ª–æ–∂–∫–∞ (–º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å AI)
- –¶–≤–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ —Ñ–æ–Ω–∞

**–®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞**
- –í—ã–±–æ—Ä –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ —Ç–∞—Ä–∏—Ñ–æ–≤, –∫–æ—Ç–æ—Ä—ã–º –¥–æ—Å—Ç—É–ø–µ–Ω –∫–æ–Ω—Ç–µ–Ω—Ç
- –ü—É—Å—Ç–æ–π –≤—ã–±–æ—Ä = –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º

**–®–∞–≥ 5: –ì–æ—Ç–æ–≤–æ**
- –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Ä–µ–¥–∞–∫—Ç–æ—Ä—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –µ—â—ë —É—Ä–æ–∫–æ–≤
    `
  },
  {
    id: 'lesson-editor',
    title: '–†–µ–¥–∞–∫—Ç–æ—Ä —É—Ä–æ–∫–æ–≤',
    icon: Blocks,
    requiredPermission: 'products.manage',
    content: `
**–ë–ª–æ—á–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä**
–ö–æ–Ω—Ç–µ–Ω—Ç —É—Ä–æ–∫–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –±–ª–æ–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–µ—Ä–µ—Å—Ç–∞–≤–ª—è—Ç—å.

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞**
1. –ù–∞–∂–º–∏—Ç–µ ¬´+ –î–æ–±–∞–≤–∏—Ç—å –±–ª–æ–∫¬ª
2. –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é (–¢–µ–∫—Å—Ç, –ú–µ–¥–∏–∞, –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤, –¢–µ—Å—Ç—ã)
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –±–ª–æ–∫–∞
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

**–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ**
- –•–≤–∞—Ç–∞–π—Ç–µ –∑–∞ –∏–∫–æ–Ω–∫—É ‚â° —Å–ª–µ–≤–∞ –æ—Ç –±–ª–æ–∫–∞
- –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≤ –Ω—É–∂–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
- –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä**
- –ö–Ω–æ–ø–∫–∞ ¬´–ü—Ä–æ—Å–º–æ—Ç—Ä¬ª –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É—Ä–æ–∫ –≥–ª–∞–∑–∞–º–∏ —É—á–µ–Ω–∏–∫–∞
- ¬´–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ¬ª –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ —Ä–µ–∂–∏–º –ø—Ä–∞–≤–∫–∏
- ¬´–ù–∞ —Å–∞–π—Ç–µ¬ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —É—Ä–æ–∫ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ

**–£–¥–∞–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞**
- –ö—Ä–∞—Å–Ω–∞—è –∏–∫–æ–Ω–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã —Å–ø—Ä–∞–≤–∞ –æ—Ç –±–ª–æ–∫–∞
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
    `
  },
  {
    id: 'blocks-text',
    title: '–ë–ª–æ–∫–∏: –¢–µ–∫—Å—Ç –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞',
    icon: Type,
    requiredPermission: 'products.manage',
    content: `
**–ó–∞–≥–æ–ª–æ–≤–æ–∫** (Heading)
- –£—Ä–æ–≤–Ω–∏ H1‚ÄìH6
- –î–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è —É—Ä–æ–∫–∞

**–¢–µ–∫—Å—Ç** (Text)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTML: <b>, <i>, <ul>, <li>, <a href="...">
- –î–ª—è –∞–±–∑–∞—Ü–µ–≤ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞

**–ê–∫–∫–æ—Ä–¥–µ–æ–Ω** (Accordion)
- –°–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–µ —Å–µ–∫—Ü–∏–∏
- –î–ª—è FAQ –∏–ª–∏ —Å–∫—Ä—ã—Ç–∏—è –¥–µ—Ç–∞–ª–µ–π

**–í–∫–ª–∞–¥–∫–∏** (Tabs)
- –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–∫–ª–∞–¥–æ–∫ —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- –î–ª—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

**–°–ø–æ–π–ª–µ—Ä** (Spoiler)
- –°–∫—Ä—ã—Ç—ã–π —Ç–µ–∫—Å—Ç —Å –∫–Ω–æ–ø–∫–æ–π ¬´–ü–æ–∫–∞–∑–∞—Ç—å¬ª
- –î–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –∑–∞–¥–∞–Ω–∏—è

**–í—ã–Ω–æ—Å–∫–∞** (Callout)
- –¶–≤–µ—Ç–Ω—ã–µ –±–ª–æ–∫–∏ —Å –∏–∫–æ–Ω–∫–∞–º–∏
- –¢–∏–ø—ã: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –£—Å–ø–µ—Ö, –í–Ω–∏–º–∞–Ω–∏–µ, –í–∞–∂–Ω–æ, –°–æ–≤–µ—Ç, –¶–∏—Ç–∞—Ç–∞, –ò—Ç–æ–≥

**–¶–∏—Ç–∞—Ç–∞** (Quote)
- –û—Ñ–æ—Ä–º–ª–µ–Ω–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞ —Å –∞–≤—Ç–æ—Ä–æ–º
    `
  },
  {
    id: 'blocks-media',
    title: '–ë–ª–æ–∫–∏: –ú–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç',
    icon: Image,
    requiredPermission: 'products.manage',
    content: `
**–í–∏–¥–µ–æ** (Video)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ YouTube, Vimeo, Kinescope
- –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ø–æ —Å—Å—ã–ª–∫–µ
- –í—Å—Ç–∞–≤–ª—è–π—Ç–µ —Å—Å—ã–ª–∫—É ‚Äî –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ

**–ê—É–¥–∏–æ** (Audio)
- –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ MP3/WAV —Ñ–∞–π–ª
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–ª–µ–µ—Ä –±—Ä–∞—É–∑–µ—Ä–∞

**–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** (Image)
- Drag & Drop –∑–∞–≥—Ä—É–∑–∫–∞ (–¥–æ 10 –ú–ë)
- –ò–ª–∏ –≤—Å—Ç–∞–≤–∫–∞ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à–∏—Ä–∏–Ω—ã (25‚Äì100%)

**–ì–∞–ª–µ—Ä–µ—è** (Gallery)
- –ù–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ —Å–µ—Ç–∫–µ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–æ–Ω–æ–∫ (2‚Äì4)
- Lightbox –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

**–§–∞–π–ª** (File)
- –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –ª—é–±–æ–≥–æ —Ñ–∞–π–ª–∞
- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
    `
  },
  {
    id: 'blocks-interactive',
    title: '–ë–ª–æ–∫–∏: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤',
    icon: Layers,
    requiredPermission: 'products.manage',
    content: `
**–ö–Ω–æ–ø–∫–∏** (Buttons)
- –û–¥–Ω–∞ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–Ω–æ–ø–æ–∫
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—Å—ã–ª–∫–∏
- –°—Ç–∏–ª–∏: Primary, Outline

**–í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ** (Embed)
- Google Docs, Slides, Forms
- –õ—é–±—ã–µ iframe-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã—Å–æ—Ç—ã –≤–∏–¥–∂–µ—Ç–∞

**–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å** (Divider)
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è
- –î–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –±–ª–æ–∫–æ–≤

**–•—Ä–æ–Ω–æ–ª–æ–≥–∏—è** (Timeline)
- –í—Ä–µ–º–µ–Ω–Ω–∞—è —à–∫–∞–ª–∞ —Å–æ–±—ã—Ç–∏–π
- –î–ª—è –ø–æ—à–∞–≥–æ–≤—ã—Ö –∏—Å—Ç–æ—Ä–∏–π –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

**–®–∞–≥–∏** (Steps)
- –ù—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã
- –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π –∏–ª–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π –≤–∏–¥
- –î–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤
    `
  },
  {
    id: 'blocks-quiz',
    title: '–ë–ª–æ–∫–∏: –¢–µ—Å—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏',
    icon: CheckSquare,
    requiredPermission: 'products.manage',
    content: `
**–û–¥–∏–Ω –æ—Ç–≤–µ—Ç** (Quiz Single)
- –†–∞–¥–∏–æ-–∫–Ω–æ–ø–∫–∏
- –û–¥–∏–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
- –ü–æ—è—Å–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞

**–ù–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç–æ–≤** (Quiz Multiple)
- –ß–µ–∫-–±–æ–∫—Å—ã
- –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

**–î–∞/–ù–µ—Ç** (Quiz True/False)
- –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤–µ—Ä–Ω–æ –∏–ª–∏ –ª–æ–∂–Ω–æ
- –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞–Ω–∏–π

**–ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–ø—É—Å–∫** (Fill Blank)
- –¢–µ–∫—Å—Ç —Å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏
- –í–≤–æ–¥ –æ—Ç–≤–µ—Ç–∞ —É—á–µ–Ω–∏–∫–æ–º

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ** (Matching)
- –°–æ–µ–¥–∏–Ω–∏—Ç—å –ø–∞—Ä—ã –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ–º
- –î–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –ø–æ–Ω—è—Ç–∏–π

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (Sequence)
- –†–∞—Å—Å—Ç–∞–≤–∏—Ç—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
- –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

**–¢–æ—á–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏** (Hotspot)
- –ö–ª–∏–∫ –ø–æ –æ–±–ª–∞—Å—Ç–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏
- –î–ª—è —Å—Ö–µ–º –∏ –¥–∏–∞–≥—Ä–∞–º–º

**–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–æ–≤**
- –ë–∞–ª–ª—ã –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
- –ü–æ—è—Å–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ö–Ω–æ–ø–∫–∞ ¬´–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞¬ª
    `
  },
  {
    id: 'trainings-access',
    title: '–î–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É',
    icon: Lock,
    requiredPermission: 'products.manage',
    content: `
**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã**
- –î–æ—Å—Ç—É–ø –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –ø—Ä–æ–¥—É–∫—Ç–∞–º –∏ —Ç–∞—Ä–∏—Ñ–∞–º
- –ï—Å–ª–∏ –º–æ–¥—É–ª—å –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–∞—Ä–∏—Ñ—É ‚Üí –≤—Å–µ —É—Ä–æ–∫–∏ –≤–Ω—É—Ç—Ä–∏ –¥–æ—Å—Ç—É–ø–Ω—ã

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –º–æ–¥—É–ª—å –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
2. –í –±–ª–æ–∫–µ ¬´–î–æ—Å—Ç—É–ø¬ª –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã
3. –û—Ç–º–µ—Ç—å—Ç–µ –Ω—É–∂–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã

**–ü—É–±–ª–∏—á–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç**
- –ù–µ –≤—ã–±–∏—Ä–∞–π—Ç–µ –Ω–∏ –æ–¥–∏–Ω —Ç–∞—Ä–∏—Ñ
- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω –≤—Å–µ–º –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

**–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤**
- –ê–¥–º–∏–Ω—ã, —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω—ã –∏ –≤–ª–∞–¥–µ–ª—å—Ü—ã –≤–∏–¥—è—Ç –í–°–Å
- –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–æ—Å—Ç—É–ø–∞
- –≠—Ç–æ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    `
  },
  {
    id: 'trainings-ai',
    title: 'AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–±–ª–æ–∂–µ–∫',
    icon: Sparkles,
    requiredPermission: 'products.manage',
    content: `
**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**
1. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è/—É—Ä–æ–∫–∞
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ‚ú® AI —Ä—è–¥–æ–º —Å –ø–æ–ª–µ–º –æ–±–ª–æ–∂–∫–∏
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10‚Äì15 —Å–µ–∫—É–Ω–¥

**–ß—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è**
- –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –æ–ø–∏—Å–∞–Ω–∏—è
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- URL –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –ø–æ–ª–µ –æ–±–ª–æ–∂–∫–∏

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**
- –ö–Ω–æ–ø–∫–∞ üì§ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–≤–æ–µ–≥–æ —Ñ–∞–π–ª–∞
- –ò–ª–∏ –≤—Å—Ç–∞–≤–∫–∞ URL –≤–Ω–µ—à–Ω–µ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    `
  },
  {
    id: 'trainings-modules',
    title: '–†–∞–±–æ—Ç–∞ —Å –º–æ–¥—É–ª—è–º–∏',
    icon: FolderOpen,
    requiredPermission: 'products.manage',
    content: `
**–°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª—è**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª ¬´–¢—Ä–µ–Ω–∏–Ω–≥–∏¬ª
2. –ù–∞–∂–º–∏—Ç–µ ¬´+ –ú–æ–¥—É–ª—å¬ª –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ú–∞—Å—Ç–µ—Ä
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –æ–±–ª–æ–∂–∫—É
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ—Å—Ç—É–ø –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º

**–¢–∏–ø—ã –º–æ–¥—É–ª–µ–π**
- **–û–±—ã—á–Ω—ã–π –º–æ–¥—É–ª—å** ‚Äî –≤–∏–¥–∏–º–∞—è –ø–∞–ø–∫–∞ —Å —É—Ä–æ–∫–∞–º–∏
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä** ‚Äî –Ω–µ–≤–∏–¥–∏–º–∞—è –ø–∞–ø–∫–∞ –¥–ª—è standalone-—É—Ä–æ–∫–æ–≤

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª—è**
- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
- –û–±–ª–æ–∂–∫–∞ (–∑–∞–≥—Ä—É–∑–∫–∞ –∏–ª–∏ AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
- –ì—Ä–∞–¥–∏–µ–Ω—Ç —Ñ–æ–Ω–∞ –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏
- –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- –°—Ç–∞—Ç—É—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω/—á–µ—Ä–Ω–æ–≤–∏–∫)

**–£–¥–∞–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è**
- –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –º–æ–¥—É–ª—å —Å —É—Ä–æ–∫–∞–º–∏
- –°–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ —É—Ä–æ–∫–∏
    `
  }
];

const faq = [
  {
    question: '–ö–∞–∫ —Å–º–µ–Ω–∏—Ç—å e-mail –∞–∫–∫–∞—É–Ω—Ç–∞?',
    answer: '–ù–∞–ø–∏—à–∏—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å —Ç–µ–∫—É—â–µ–≥–æ –∏ –Ω–æ–≤–æ–≥–æ e-mail. –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º—ã –∏–∑–º–µ–Ω–∏–º –∞–¥—Ä–µ—Å.'
  },
  {
    question: '–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∞—Å—å –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã',
    answer: '–û–±—ã—á–Ω–æ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç –¥–æ 5 –º–∏–Ω—É—Ç. –ï—Å–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –ø–æ—è–≤–∏–ª–∞—Å—å ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –≤ –∏—Å—Ç–æ—Ä–∏–∏ –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.'
  },
  {
    question: '–ö–∞–∫ –æ—Ç–≤—è–∑–∞—Ç—å Telegram?',
    answer: '–ù–∞–ø–∏—à–∏—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É. –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ—Ç–≤—è–∑–∞—Ç—å –Ω–µ–ª—å–∑—è –∏–∑ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.'
  },
  {
    question: '–ú–æ–∂–Ω–æ –ª–∏ –≤–µ—Ä–Ω—É—Ç—å –¥–µ–Ω—å–≥–∏?',
    answer: '–í–æ–∑–≤—Ä–∞—Ç –≤–æ–∑–º–æ–∂–µ–Ω –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π, –µ—Å–ª–∏ —É—Å–ª—É–≥–∞ –Ω–µ –±—ã–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞. –ù–∞–ø–∏—à–∏—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.'
  },
  {
    question: '–ó–∞–±—ã–ª –ø–∞—Ä–æ–ª—å, —á—Ç–æ –¥–µ–ª–∞—Ç—å?',
    answer: '–ù–∞–∂–º–∏—Ç–µ ¬´–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å¬ª –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞. –°—Å—ã–ª–∫–∞ –ø—Ä–∏–¥—ë—Ç –Ω–∞ –≤–∞—à e-mail.'
  },
  {
    question: '–ö–∞–∫ —Å–≤—è–∑–∞—Ç—å—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π?',
    answer: '–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞ support@example.com –∏–ª–∏ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤.'
  },
  {
    question: '–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã?',
    answer: '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∞—Ö ‚Üí –†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–π –æ–ø–ª–∞—Ç–µ —Å—á—ë—Ç-–∞–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≤–∞—à e-mail –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ú–æ–∏ –ø–æ–∫—É–ø–∫–∏¬ª.'
  },
  {
    question: '–ö–∞–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å?',
    answer: '–î–ª—è —Ñ–∏–∑–ª–∏—Ü ‚Äî –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã. –î–ª—è –ò–ü ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ, –£–ù–ü, –∞–¥—Ä–µ—Å. –î–ª—è —é—Ä–ª–∏—Ü ‚Äî –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –£–ù–ü, –¥–∞–Ω–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è.'
  }
];

export default function Help() {
  const navigate = useNavigate();
  const location = useLocation();
  const { user } = useAuth();
  const { hasAdminAccess, hasPermission, isSuperAdmin, loading: permissionsLoading } = usePermissions();
  const [searchQuery, setSearchQuery] = useState('');

  // Handle anchor scroll when page loads or hash changes
  useEffect(() => {
    const hash = location.hash;
    if (hash) {
      // Small delay to ensure content is rendered
      setTimeout(() => {
        const element = document.getElementById(hash.slice(1));
        if (element) {
          element.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      }, 100);
    }
  }, [location.hash]);

  // Filter admin sections based on permissions
  const filteredAdminSections = useMemo(() => {
    if (!hasAdminAccess()) return [];
    
    // Super admin sees everything
    if (isSuperAdmin()) return adminSections;
    
    // Filter by specific permissions
    return adminSections.filter(section => {
      if (section.requiredPermission === null) return true; // General admin section
      return hasPermission(section.requiredPermission);
    });
  }, [hasAdminAccess, isSuperAdmin, hasPermission]);

  // Build quick start cards dynamically based on role
  const quickStartCards = useMemo(() => {
    const userCards = [
      {
        icon: UserPlus,
        title: '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥',
        description: '–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –∏ –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É',
        anchor: '#auth'
      },
      {
        icon: CreditCard,
        title: '–û–ø–ª–∞—Ç–∞ –∏ –ø–æ–¥–ø–∏—Å–∫–∞',
        description: '–û–ø–ª–∞—Ç–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–ª–∞—Ç–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º',
        anchor: '#payments'
      },
      {
        icon: LayoutDashboard,
        title: '–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç',
        description: '–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏',
        anchor: '#dashboard'
      },
      {
        icon: FileText,
        title: '–î–æ–∫—É–º–µ–Ω—Ç—ã',
        description: '–†–∞–±–æ—Ç–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞–º–∏',
        anchor: '#documents'
      }
    ];

    if (hasAdminAccess()) {
      userCards.push(
        {
          icon: GraduationCap,
          title: '–¢—Ä–µ–Ω–∏–Ω–≥–∏',
          description: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è–º–∏ –∏ —É—Ä–æ–∫–∞–º–∏',
          anchor: '#trainings'
        },
        {
          icon: Link2,
          title: '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏',
          description: '–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤',
          anchor: '#integrations'
        },
        {
          icon: ShieldCheck,
          title: '–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å',
          description: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π',
          anchor: '#admin'
        }
      );
    }

    return userCards;
  }, [hasAdminAccess]);

  // Combine sections for search, respecting permissions
  const allSections = useMemo(() => [
    ...userSections.map(s => ({ ...s, category: 'user' as const })),
    ...filteredAdminSections.map(s => ({ ...s, category: 'admin' as const })),
  ], [filteredAdminSections]);

  // Filter sections based on search
  const filteredSections = useMemo(() => {
    if (!searchQuery.trim()) return null;
    
    const query = searchQuery.toLowerCase();
    return allSections.filter(section => 
      section.title.toLowerCase().includes(query) ||
      section.content.toLowerCase().includes(query)
    );
  }, [searchQuery, allSections]);

  // Filter FAQ
  const filteredFaq = useMemo(() => {
    if (!searchQuery.trim()) return faq;
    
    const query = searchQuery.toLowerCase();
    return faq.filter(item => 
      item.question.toLowerCase().includes(query) ||
      item.answer.toLowerCase().includes(query)
    );
  }, [searchQuery]);

  const clearSearch = () => setSearchQuery('');
  const isSearching = searchQuery.trim().length > 0;

  const handleBackClick = () => {
    if (user) {
      navigate('/dashboard');
    } else {
      navigate('/');
    }
  };

  return (
    <div className="min-h-screen bg-background">
      {/* Header - same as landing page */}
      <LandingHeader />

      {/* Main content with padding for fixed header */}
      <div className="pt-20">
        {/* Hero with Breadcrumbs */}
        <div className="border-b bg-muted/30">
          <div className="container py-12 md:py-16">
            {/* Breadcrumbs */}
            <nav className="flex items-center gap-2 text-sm text-muted-foreground mb-6">
              <Button 
                variant="ghost" 
                size="sm" 
                onClick={handleBackClick}
                className="gap-1 -ml-2 h-auto py-1 px-2"
              >
                <ChevronLeft className="h-4 w-4" />
                –ù–∞–∑–∞–¥
              </Button>
              <span className="text-muted-foreground/50">|</span>
              <Link to="/" className="hover:text-foreground transition-colors flex items-center gap-1">
                <Home className="h-3.5 w-3.5" />
                –ì–ª–∞–≤–Ω–∞—è
              </Link>
              <ChevronRight className="h-3.5 w-3.5 text-muted-foreground/50" />
              <span className="text-foreground">–ü–æ–º–æ—â—å</span>
            </nav>

            <div className="flex items-center gap-3 mb-4">
              <div className="p-2 rounded-lg bg-primary/10">
                <BookOpen className="h-6 w-6 text-primary" />
              </div>
              <h1 className="text-3xl md:text-4xl font-bold">–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π</h1>
            </div>
            <p className="text-muted-foreground text-lg max-w-2xl mb-6">
              –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º —Å–∏—Å—Ç–µ–º—ã. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –∏–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –≤ FAQ.
            </p>
            
            {/* Search */}
            <div className="relative max-w-md">
              <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
              <Input
                placeholder="–ü–æ–∏—Å–∫ –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º –∏ FAQ..."
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                className="pl-9 pr-9 bg-background"
              />
              {isSearching && (
                <Button
                  variant="ghost"
                  size="icon"
                  className="absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7"
                  onClick={clearSearch}
                >
                  <X className="h-4 w-4" />
                </Button>
              )}
            </div>
          </div>
        </div>

        <div className="container py-8 md:py-12">
          {/* Search Results */}
          {isSearching ? (
            <div className="space-y-8">
              <div className="flex items-center gap-2">
                <Badge variant="secondary">
                  –ù–∞–π–¥–µ–Ω–æ —Ä–∞–∑–¥–µ–ª–æ–≤: {filteredSections?.length || 0}
                </Badge>
                <Badge variant="secondary">
                  –ù–∞–π–¥–µ–Ω–æ FAQ: {filteredFaq.length}
                </Badge>
                <Button variant="ghost" size="sm" onClick={clearSearch}>
                  –°–±—Ä–æ—Å–∏—Ç—å –ø–æ–∏—Å–∫
                </Button>
              </div>

              {filteredSections && filteredSections.length > 0 && (
                <section>
                  <h2 className="text-xl font-semibold mb-4">–†–∞–∑–¥–µ–ª—ã</h2>
                  <div className="space-y-4">
                    {filteredSections.map((section) => (
                      <Card key={section.id} id={section.id} className="scroll-mt-20">
                        <CardHeader className="pb-2">
                          <div className="flex items-center gap-3">
                            <div className="p-2 rounded-lg bg-muted">
                              <section.icon className="h-5 w-5 text-muted-foreground" />
                            </div>
                            <div className="flex items-center gap-2">
                              <CardTitle className="text-lg">{section.title}</CardTitle>
                              <Badge variant="outline" className="text-xs">
                                {section.category === 'admin' ? '–ê–¥–º–∏–Ω' : '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}
                              </Badge>
                            </div>
                          </div>
                        </CardHeader>
                        <CardContent>
                          <div className="prose prose-sm dark:prose-invert max-w-none">
                            {section.content.split('\n').slice(0, 8).map((line, i) => {
                              if (line.startsWith('**') && line.endsWith('**')) {
                                return <h4 key={i} className="font-semibold mt-4 mb-2 first:mt-0">{line.replace(/\*\*/g, '')}</h4>;
                              }
                              if (line.startsWith('- ')) {
                                return <li key={i} className="text-muted-foreground ml-4">{line.slice(2)}</li>;
                              }
                              if (line.trim()) {
                                return <p key={i} className="text-muted-foreground">{line}</p>;
                              }
                              return null;
                            })}
                          </div>
                        </CardContent>
                      </Card>
                    ))}
                  </div>
                </section>
              )}

              {filteredFaq.length > 0 && (
                <section>
                  <h2 className="text-xl font-semibold mb-4">–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
                  <Card>
                    <CardContent className="pt-6">
                      <Accordion type="single" collapsible className="w-full">
                        {filteredFaq.map((item, index) => (
                          <AccordionItem key={index} value={`faq-search-${index}`}>
                            <AccordionTrigger className="text-left">
                              {item.question}
                            </AccordionTrigger>
                            <AccordionContent className="text-muted-foreground">
                              {item.answer}
                            </AccordionContent>
                          </AccordionItem>
                        ))}
                      </Accordion>
                    </CardContent>
                  </Card>
                </section>
              )}

              {(!filteredSections || filteredSections.length === 0) && filteredFaq.length === 0 && (
                <div className="text-center py-12">
                  <p className="text-muted-foreground">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É ¬´{searchQuery}¬ª</p>
                  <Button variant="link" onClick={clearSearch}>–°–±—Ä–æ—Å–∏—Ç—å –ø–æ–∏—Å–∫</Button>
                </div>
              )}
            </div>
          ) : (
            <>
              {/* –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç */}
              <section className="mb-12">
                <h2 className="text-xl font-semibold mb-6">–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>
                <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
                  {quickStartCards.map((card) => (
                    <a key={card.anchor} href={card.anchor}>
                      <Card className="h-full hover:bg-muted/50 transition-colors cursor-pointer group">
                        <CardHeader className="pb-2">
                          <div className="flex items-center gap-3">
                            <div className="p-2 rounded-lg bg-primary/10 group-hover:bg-primary/20 transition-colors">
                              <card.icon className="h-5 w-5 text-primary" />
                            </div>
                            <CardTitle className="text-base">{card.title}</CardTitle>
                          </div>
                        </CardHeader>
                        <CardContent>
                          <CardDescription>{card.description}</CardDescription>
                        </CardContent>
                      </Card>
                    </a>
                  ))}
                </div>
              </section>

              <Separator className="my-8" />

              {/* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã */}
              <section className="mb-12">
                <h2 className="text-xl font-semibold mb-6">–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h2>
                <div className="space-y-4">
                  {userSections.map((section) => (
                    <Card key={section.id} id={section.id} className="scroll-mt-20">
                      <CardHeader className="pb-2">
                        <div className="flex items-center gap-3">
                          <div className="p-2 rounded-lg bg-muted">
                            <section.icon className="h-5 w-5 text-muted-foreground" />
                          </div>
                          <CardTitle className="text-lg">{section.title}</CardTitle>
                        </div>
                      </CardHeader>
                      <CardContent>
                        <div className="prose prose-sm dark:prose-invert max-w-none">
                          {section.content.split('\n').map((line, i) => {
                            if (line.startsWith('**') && line.endsWith('**')) {
                              return <h4 key={i} className="font-semibold mt-4 mb-2 first:mt-0">{line.replace(/\*\*/g, '')}</h4>;
                            }
                            if (line.startsWith('- ')) {
                              return <li key={i} className="text-muted-foreground ml-4">{line.slice(2)}</li>;
                            }
                            if (line.match(/^\d+\./)) {
                              return <li key={i} className="text-muted-foreground ml-4 list-decimal">{line.slice(3)}</li>;
                            }
                            if (line.trim()) {
                              return <p key={i} className="text-muted-foreground">{line}</p>;
                            }
                            return null;
                          })}
                        </div>
                      </CardContent>
                    </Card>
                  ))}
                </div>
              </section>

              {/* –ê–¥–º–∏–Ω-—Ä–∞–∑–¥–µ–ª—ã - only for admins */}
              {filteredAdminSections.length > 0 && (
                <>
                  <Separator className="my-8" />

                  <section className="mb-12">
                    <h2 className="text-xl font-semibold mb-6">–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤</h2>
                    <div className="space-y-4">
                      {filteredAdminSections.map((section) => (
                        <Card key={section.id} id={section.id} className="scroll-mt-20">
                          <CardHeader className="pb-2">
                            <div className="flex items-center gap-3">
                              <div className="p-2 rounded-lg bg-muted">
                                <section.icon className="h-5 w-5 text-muted-foreground" />
                              </div>
                              <CardTitle className="text-lg">{section.title}</CardTitle>
                            </div>
                          </CardHeader>
                          <CardContent>
                            <div className="prose prose-sm dark:prose-invert max-w-none">
                              {section.content.split('\n').map((line, i) => {
                                if (line.startsWith('**') && line.endsWith('**')) {
                                  return <h4 key={i} className="font-semibold mt-4 mb-2 first:mt-0">{line.replace(/\*\*/g, '')}</h4>;
                                }
                                if (line.startsWith('- ')) {
                                  return <li key={i} className="text-muted-foreground ml-4">{line.slice(2)}</li>;
                                }
                                if (line.match(/^\d+\./)) {
                                  return <li key={i} className="text-muted-foreground ml-4 list-decimal">{line.slice(3)}</li>;
                                }
                                if (line.trim()) {
                                  return <p key={i} className="text-muted-foreground">{line}</p>;
                                }
                                return null;
                              })}
                            </div>
                          </CardContent>
                        </Card>
                      ))}
                    </div>
                  </section>
                </>
              )}

              <Separator className="my-8" />

              {/* FAQ */}
              <section className="mb-12" id="faq">
                <h2 className="text-xl font-semibold mb-6 flex items-center gap-2">
                  <HelpCircle className="h-5 w-5" />
                  –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
                </h2>
                <Card>
                  <CardContent className="pt-6">
                    <Accordion type="single" collapsible className="w-full">
                      {faq.map((item, index) => (
                        <AccordionItem key={index} value={`faq-${index}`}>
                          <AccordionTrigger className="text-left">
                            {item.question}
                          </AccordionTrigger>
                          <AccordionContent className="text-muted-foreground">
                            {item.answer}
                          </AccordionContent>
                        </AccordionItem>
                      ))}
                    </Accordion>
                  </CardContent>
                </Card>
              </section>

              {/* –ö–æ–Ω—Ç–∞–∫—Ç—ã */}
              <section id="contacts">
                <Card className="bg-muted/30">
                  <CardHeader>
                    <CardTitle>–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?</CardTitle>
                    <CardDescription>
                      –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –æ—Ç–≤–µ—Ç –Ω–∞ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å ‚Äî —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
                    </CardDescription>
                  </CardHeader>
                  <CardContent className="flex flex-wrap gap-4">
                    <Link 
                      to="/contacts" 
                      className="inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors"
                    >
                      <Mail className="h-4 w-4" />
                      –ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É
                    </Link>
                  </CardContent>
                </Card>
              </section>
            </>
          )}
        </div>
      </div>
    </div>
  );
}
